<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RubyDesk::Provider</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/ruby_desk/provider_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/ruby_desk/provider.rb">lib/ruby_desk/provider.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="OdeskEntity.html">RubyDesk::OdeskEntity</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-all_categories">::all_categories</a></li>
					
					<li><a href="#method-c-get_profile">::get_profile</a></li>
					
					<li><a href="#method-c-search">::search</a></li>
					
					<li><a href="#method-i-iinitialize">#iinitialize</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../RubyDesk.html">RubyDesk</a></li>
				
					<li><a href="../RubyDesk/Connector.html">RubyDesk::Connector</a></li>
				
					<li><a href="../RubyDesk/Error.html">RubyDesk::Error</a></li>
				
					<li><a href="../RubyDesk/OdeskEntity.html">RubyDesk::OdeskEntity</a></li>
				
					<li><a href="../RubyDesk/PageNotFound.html">RubyDesk::PageNotFound</a></li>
				
					<li><a href="../RubyDesk/Provider.html">RubyDesk::Provider</a></li>
				
					<li><a href="../RubyDesk/ServerError.html">RubyDesk::ServerError</a></li>
				
					<li><a href="../RubyDesk/Snapshot.html">RubyDesk::Snapshot</a></li>
				
					<li><a href="../RubyDesk/TeamRoom.html">RubyDesk::TeamRoom</a></li>
				
					<li><a href="../RubyDesk/TimeReport.html">RubyDesk::TimeReport</a></li>
				
					<li><a href="../RubyDesk/UnauthorizedError.html">RubyDesk::UnauthorizedError</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">RubyDesk::Provider</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		
		<div id="constants-list" class="section">
			<h3 class="section-header">Constants</h3>
			<dl>
			
				<dt><a name="AllCategories">AllCategories</a></dt>
				
				<dd class="description"><p>
Save categories in a constant
</p></dd>
				
			
			</dl>
		</div>
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="all-categories-method" class="method-detail ">
				<a name="method-c-all_categories"></a>

				<div class="method-heading">
				
					<span class="method-name">all_categories</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="all-categories-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ruby_desk/provider.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_categories</span>
46:       <span class="ruby-identifier">text</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>), <span class="ruby-value str">&quot;..&quot;</span>, <span class="ruby-value str">&quot;categories&quot;</span>))
47:       <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/[\r\n]+/</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">strip</span>}
48:       <span class="ruby-identifier">categories</span> = {}
49:       <span class="ruby-identifier">subcategories</span> = <span class="ruby-keyword kw">nil</span>
50:       <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
51:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">**</span>
52:           <span class="ruby-identifier">subcategories</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]
53:         <span class="ruby-keyword kw">else</span>
54:           <span class="ruby-identifier">categories</span>[<span class="ruby-identifier">line</span>] = (<span class="ruby-identifier">subcategories</span> = [])
55:         <span class="ruby-keyword kw">end</span>
56:       <span class="ruby-keyword kw">end</span>
57:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">categories</span>
58:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-profile-method" class="method-detail ">
				<a name="method-c-get_profile"></a>

				<div class="method-heading">
				
					<span class="method-name">get_profile</span><span
						class="method-args">(connector, id, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-profile-source">
<pre>
     <span class="ruby-comment cmt"># File lib/ruby_desk/provider.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_profile</span>(<span class="ruby-identifier">connector</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>={})
131:       <span class="ruby-identifier">brief</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value">:brief</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span>
132:       <span class="ruby-identifier">json</span> = <span class="ruby-identifier">connector</span>.<span class="ruby-identifier">prepare_and_invoke_api_call</span>(
133:         <span class="ruby-node">&quot;profiles/v1/providers/#{id}&quot;</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">brief</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;/brief&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>), <span class="ruby-value">:method=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:get</span>)
134:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">json</span>[<span class="ruby-value str">'profile'</span>])
135:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="search-method" class="method-detail ">
				<a name="method-c-search"></a>

				<div class="method-heading">
				
					<span class="method-name">search</span><span
						class="method-args">(connector, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 Implements search with the given criteria
</pre>
<ul>
<li><p>
q - ProfileData (ProfileData)
</p>
<pre>
    * Profile data is any text that appears in a provider's profile. For example if q = 'odesk' the search would return any user's with the word odesk in their profile.
</pre>
</li>
<li><p>
c1 - JobCategory (First Level Job Category)
</p>
<pre>
    * This is the first level of job categories, there are a static number of catergories to select from and only one can be submitted at a time.
</pre>
</li>
<li><p>
c2 - second_category (Second Category)
</p>
<pre>
    * Each level one category has a list of subcategories, again only on can be listed at a time and for a full list of what these are see our complete list of categories.
</pre>
</li>
<li><p>
fb - adjusted_score (the providers adjusted score) This searches for
providers who have an adjusted feedback score equal or greater (up to 5)
than the number passed in this parameter (decimals are ok).
</p>
<pre>
    * For example fb=4.5 will return providers who have a combined feedback score of 4.5 or greater.
</pre>
</li>
<li><p>
hrs - ui_total_hours (Total hours) This searches for providers who have a
total number of hours equal or greater to the number passed in this
parameter.
</p>
<pre>
    * ir(has worked within the last 6 months) This boolean parameter is used in combination with the total hours worked parameter, and searches providers who have worked within the last six months.
          + Yes or No are the only valid searches. Omiting this will default to 'No' = not searching recent workers.
</pre>
</li>
<li><p>
min - hourly_charge_rate_min (The provider&#8217;s minimum rate they have
charged in the past)
</p>
<pre>
    * Exludes providers with a public rate less than this amount.
</pre>
</li>
<li><p>
max - hourly_charge_rate_max (The provider&#8217;s maximum rate they have
charged in the past)
</p>
<pre>
        o Exludes provides with a public rate greater than this amount.
  * loc - country_region (Country Region)
        o Limit your searches to a specific country region:
              + Australasia
              + East Asia
              + Eastern Europe
              + Misc
              + North America
              + South Asia
              + Western Europe
  * pt - provider_type (Provider type, indipendent or affiliate)
        o Limit your search to indipendent or affiliate providers.
  * last - last_provider_activity (Date last active)
        o Limit your search to providers who were active after the date passed in this parameter. Dates should be formated like: 07-13-2009
  * test - cmp_ref (specify a test taken)
        o Limit your search to providers who have passed a specific test (based on the test id), one test can be passed at a time. See the complete list of tests here.
  * port - total_portfolio_items (the number of portfolio items)
        o Limit your search to providers who have at least this many portfolio items.
  * rdy - is_ready (are they odesk ready)
        o Only return oDesk ready providers.
  * eng - ui_english (English skill rating)
        o Limit your results to providers who have at least the rating passed in the parameter.
              + Only the following english levels are available (no decimals): [1,2,3,4,5]
  * ag - Agency Ref (Agency name)
        o Limit your search to a specific agency.
  * to - titles_only (Titles Search)
        o Search the provider profile title text only.
  * g - group (group members)
        o Limit your search to a specific group. See our list of available groups here.
  * Page(offset;count)
  * sort($field_name1;$field_name2;..$field_nameN;AD...A)
</pre>
</li>
</ul>
<p>
Notes on Pagination
</p>
<pre>
    * If $page is ommited, 0;SEARCH_PROVIDER_DEFAULT_PAGE_SIZE is assumed
    * $count &lt; SEARCH_PROVIDER_MAX_PAGE_SIZE
</pre>
<p>
Notes on Sorting
</p>
<pre>
    * Listing all fields on which to sort separated by a semi-colon with last value in the list a &quot;direction vector&quot; (A(Ascending) or D(Descending)).
</pre>
<ul>
<li><p>
If the number of fields is bigger/smaller than number of chars in the
&#8220;directions vector&#8221; then the application will return a
&#8220;400 Bad request&#8221; error.
</p>
</li>
<li><p>
sort using the field_names
</p>
</li>
</ul>
					

					
					<div class="method-source-code"
						id="search-source">
<pre>
     <span class="ruby-comment cmt"># File lib/ruby_desk/provider.rb, line 115</span>
115:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-identifier">connector</span>, <span class="ruby-identifier">options</span>={})
116:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:to_str</span>
117:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">search</span>(<span class="ruby-identifier">connector</span>, <span class="ruby-value">:q=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">to_str</span>)
118:       <span class="ruby-keyword kw">end</span>
119:       <span class="ruby-identifier">json</span> = <span class="ruby-identifier">connector</span>.<span class="ruby-identifier">prepare_and_invoke_api_call</span>(
120:         <span class="ruby-value str">'profiles/v1/search/providers'</span>, <span class="ruby-value">:method=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:get</span>,
121:         <span class="ruby-value">:auth=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>, <span class="ruby-value">:sign=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>)
122: 
123:       <span class="ruby-identifier">providers</span> = []
124:       [<span class="ruby-identifier">json</span>[<span class="ruby-value str">'providers'</span>][<span class="ruby-value str">'provider'</span>]].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">provider</span><span class="ruby-operator">|</span>
125:         <span class="ruby-identifier">providers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">provider</span>)
126:       <span class="ruby-keyword kw">end</span>
127:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">providers</span>
128:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="iinitialize-method" class="method-detail ">
				<a name="method-i-iinitialize"></a>

				<div class="method-heading">
				
					<span class="method-name">iinitialize</span><span
						class="method-args">(params={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="iinitialize-source">
<pre>
     <span class="ruby-comment cmt"># File lib/ruby_desk/provider.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">iinitialize</span>(<span class="ruby-identifier">params</span>={})
141:     <span class="ruby-identifier">params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
142:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>
143:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;portfolio_items&quot;</span> <span class="ruby-keyword kw">then</span>
144:       <span class="ruby-keyword kw">else</span>
145:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{k}&quot;</span>, <span class="ruby-identifier">v</span>)
146:       <span class="ruby-keyword kw">end</span>
147:     <span class="ruby-keyword kw">end</span>
148:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

