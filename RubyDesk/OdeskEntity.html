<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RubyDesk::OdeskEntity</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/ruby_desk/odesk_entity_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/ruby_desk/odesk_entity.rb">lib/ruby_desk/odesk_entity.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-attribute">::attribute</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../RubyDesk.html">RubyDesk</a></li>
				
					<li><a href="../RubyDesk/BadRequest.html">RubyDesk::BadRequest</a></li>
				
					<li><a href="../RubyDesk/Connector.html">RubyDesk::Connector</a></li>
				
					<li><a href="../RubyDesk/Error.html">RubyDesk::Error</a></li>
				
					<li><a href="../RubyDesk/Job.html">RubyDesk::Job</a></li>
				
					<li><a href="../RubyDesk/OdeskEntity.html">RubyDesk::OdeskEntity</a></li>
				
					<li><a href="../RubyDesk/PageNotFound.html">RubyDesk::PageNotFound</a></li>
				
					<li><a href="../RubyDesk/Provider.html">RubyDesk::Provider</a></li>
				
					<li><a href="../RubyDesk/ServerError.html">RubyDesk::ServerError</a></li>
				
					<li><a href="../RubyDesk/Snapshot.html">RubyDesk::Snapshot</a></li>
				
					<li><a href="../RubyDesk/TeamRoom.html">RubyDesk::TeamRoom</a></li>
				
					<li><a href="../RubyDesk/TimeReport.html">RubyDesk::TimeReport</a></li>
				
					<li><a href="../RubyDesk/UnauthorizedError.html">RubyDesk::UnauthorizedError</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">RubyDesk::OdeskEntity</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="attribute-method" class="method-detail ">
				<a name="method-c-attribute"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute</span><span
						class="method-args">(*att_names)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Defines a new attribute or multiple attributes to this class. Allowed
options:
</p>
<pre>
  * class: The class used to initialize this attribute
  * sub_element: Indicates this is an array. Name of the key used to initialize this attribute.
</pre>
<p>
Here are some examples of how to use this method class Project
</p>
<pre>
  # Defines a new attribute called 'name'.
  # This is generally used for defining simple attributes such as String or integer
  attribute :name

  # Defines two attributes called 'description' and 'priority'.
  attributes :description, :priority
  # The same effect can be accomplished by calling
  attribute :description
  attribute :priority

  # Defines an attribute called 'manager' of class User
  # This class is used to initialize this attribute as we will see later
  attribute :manager, :class=&gt;User

  # Defines an attribute called 'tasks' which is an array of type Task
  attribute :tasks, :class=&gt;Task, :sub_element=&gt;&quot;tasks&quot;
</pre>
<p>
end
</p>
<p>
Initialization
</p>
<h6>The above class Project can be initialized like this</h6>
<p>
# An instance of class Project all attributes set to nil Project.new
</p>
<p>
# Initialize simple attributes with the given values Project.new
:name=>&#8220;GitHub project&#8221;, :description=>&#8220;Sample project on
git hub&#8220;
</p>
<p>
# Initialize complex attribute # This will initialize manager with:
User.new(:name=>&#8220;Ahmed&#8221;,
:birthday=>Date.parse(&#8220;3/3/1983&#8220;)) Project.new
:manager=>{:name=>&#8220;Ahmed&#8221;,
:birthday=>Date.parse(&#8220;3/3/1983&#8220;)}
</p>
<p>
# Initializes &#8216;tasks&#8217; attribute with
[Task.new(:name=>&#8220;task1&#8221;, Task.new(:name=>&#8220;task2&#8221;,
:priority=>3}] Project.new :tasks=>[{:name=>&#8220;task1&#8221;},
{:name=>&#8220;task2&#8221;, :priority=>3}]
</p>
					

					
					<div class="method-source-code"
						id="attribute-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ruby_desk/odesk_entity.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute</span>(*<span class="ruby-identifier">att_names</span>)
46:       <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
47:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">att_names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span><span class="ruby-constant">Hash</span>
48:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">att_names</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-value">1</span>
49:       <span class="ruby-keyword kw">end</span>
50:       <span class="ruby-identifier">att_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">att_name</span><span class="ruby-operator">|</span>
51:         <span class="ruby-identifier">attr_reader</span> <span class="ruby-identifier">att_name</span>
52:         <span class="ruby-identifier">@@complex_attributes</span>[<span class="ruby-identifier">att_name</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">options</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>
53:       <span class="ruby-keyword kw">end</span>
54:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(params={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates a new object of this class Initial values of attributes is passed
as a paramter
</p>
<pre>
  * params: A hash used to initialize this object.
    The key is the name of the attribute to initialize.
    The value is used as the initial value for this attribute.
    If the attribute is defined a class in creation,
    the value is used as an initialization parameter with this class.
    If the attribute is marked as &quot;sub_element&quot; in creation,
    the value is assumed to be an array.
    Each entry in the array is used as an initialization parameter to create a new element.
    If the value is not an array, it is used to create an array of single element.</pre>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ruby_desk/odesk_entity.rb, line 71</span>
71:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">params</span>={})
72:     <span class="ruby-identifier">params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
73:       <span class="ruby-identifier">attribute_options</span> = <span class="ruby-identifier">@@complex_attributes</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-operator">||</span> {}
74:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:class</span>]
75:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:sub_element</span>]
76:           <span class="ruby-comment cmt"># This attribute has many elements each of the given class</span>
77:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>[<span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:sub_element</span>]]
78:             <span class="ruby-comment cmt"># There is values for it</span>
79:             <span class="ruby-comment cmt"># Initialize the value to an empty array</span>
80:             <span class="ruby-identifier">values</span> = []
81:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{k}&quot;</span>, <span class="ruby-identifier">values</span>)
82:             [<span class="ruby-identifier">v</span>[<span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:sub_element</span>]]].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">element</span><span class="ruby-operator">|</span>
83:               <span class="ruby-comment cmt"># Create an element of the correct class</span>
84:               <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:class</span>].<span class="ruby-identifier">new</span>(<span class="ruby-identifier">element</span>)
85:             <span class="ruby-keyword kw">end</span>
86:           <span class="ruby-keyword kw">end</span>
87:         <span class="ruby-keyword kw">else</span>
88:           <span class="ruby-comment cmt"># This attribute is a single complex attribute</span>
89:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{k}&quot;</span>, <span class="ruby-identifier">attribute_options</span>[<span class="ruby-value">:class</span>].<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>))
90:         <span class="ruby-keyword kw">end</span>
91:       <span class="ruby-keyword kw">else</span>
92:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{k}&quot;</span>, <span class="ruby-identifier">v</span>)
93:       <span class="ruby-keyword kw">end</span>
94:     <span class="ruby-keyword kw">end</span>
95:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

